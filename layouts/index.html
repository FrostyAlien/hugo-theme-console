{{ define "main" }}

<h1>About Me</h1>

<p>
Hello! I'm a MPhil student in Computer Science and XR Researcher at City University of Hong Kong. I identify as a software engineer,
network engineer, tech enthusiast, and an attack helicopter LOL.  <a href="aboutme/">(more)</a>
</p>
<br/>

<h1>Latest posts</h1>

<div class="posts-list">
{{ with .Site.GetPage "/posts" }}
    {{ range first 3 (sort .Data.Pages "Date" "desc" (where .Pages ".Params.private" "!=" true))}}
        <div class="post">
            <p>
                <div class="date">{{ .PublishDate.Format "Jan. 2, 2006" }}</div>
                <h1><a href="{{ .Permalink }}" title="{{ .Title }}">{{ .Title }}</a></h1>
                {{ .Summary }}
            </p>
        </div>    
    {{ end }}
{{ end }}
</div>

<h1>Recent or Selected Papers</h1>

<div class="papers-list">
{{ with .Site.GetPage "/papers" }}
    {{ $sorted_papers := sort .Data.Pages "Weight" }}
    {{ $selected_papers := first 5 $sorted_papers }}
    {{ range $selected_papers }}
        <div class="paper">
            <p>
                <div class="date">{{ .Date.Format "Jan. 2, 2006" }}</div>
                <h2>
                    {{ if .Params.link }}
                        <a href="{{ .Params.link }}" title="{{ .Title }}" target="_blank">{{ .Title }}</a>
                    {{ else }}
                        {{ .Title }}
                    {{ end }}
                </h2>
                <div class="authors">
                    {{ $your_name := .Params.your_name }}
                    {{ range $index, $author := .Params.authors }}
                        {{- if ne $index 0 }}, {{ end -}}
                        {{- if eq $author $your_name -}}
                            <strong>{{ $author }}</strong>
                        {{- else -}}
                            {{ $author }}
                        {{- end -}}
                    {{ end }}
                </div>
                <div class="venue">{{ .Params.venue }}</div>
            </p>
        </div>
    {{ end }}
    {{ if gt (len .Data.Pages) 5 }}
        <p><a href="/papers">View all papers</a></p>
    {{ end }}
{{ end }}
</div>

{{ end }}